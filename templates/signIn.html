<!doctype html>
<html>
    <head>
        <title>CP by (j)Elita</title>
        <meta charset=utf-8>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="/static/style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
        <script src="https://unpkg.com/ionicons@5.0.0/dist/ionicons.js"></script>
    </head>
    <body>
        <div id="page">
            <nav class="navbar" role="navigation">
                <div class="container">
                    <div id="logo">
                        <a href='/'>CP <em>by (j)Elita</em></a>
                    </div>
                    <div id="menu">
                        <ul>
                            <li>
                                <a href='/preSignIn'>Prihlásiť sa</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <header id="header" class="background" role="banner" style="background-image: url(static/background.jpg);">
                <div class="overlay"></div>
                <div id="login" class="signInForm animate__animated animate__fadeIn">
                    <div class="form-wrap">
                        <div class="form-content">
                            <h3>Prihláste sa:</h3>
                            <form class="busConfig" action="/signIn" method="POST">
                                <div class="search-col" style="padding-bottom: 10px;">
                                    <label for="lEmail">Prihlasovací email:</label><br>
                                    <input class="search-select" type="email" id="lEmail" name="lEmail" required>
                                </div>
                                <div class="search-col">
                                    <label for="lPassword">Heslo:</label><br>
                                    <input class="search-select" type="password" id="lPassword" name="lPassword" required>
                                </div><br>
                                <div class="search-col">
                                    <button type="submit" class="buttonSearch"><a>Prihlásiť</a></button>
                                    <button type="button" class="buttonSwap" onmouseover="showPassword()" onmouseout="hidePassword()"><ion-icon id="passIcon" name="eye-outline"></ion-icon></button>
                                </div><br><br>
                                <div class="search-col" style="height: 40px;">
                                    <button type="button" class="buttonRegister" onclick="register()"><a>Vytvoriť účet</a></button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div id="register" class="regForm animate__animated animate__fadeIn hidden">
                    <div class="form-wrap">
                        <div class="form-content">
                            <h3>Zaregistrujte sa:</h3>
                            <form class="busConfig" action="/registration" method="POST">
                                <div class="search-col" style="padding-bottom: 10px;">
                                    <label for="fname">Meno:</label><br>
                                    <input class="search-select" type="text" id="fname" name="fname" required>
                                </div>
                                <div class="search-col" style="padding-bottom: 10px;">
                                    <label for="lname">Priezvisko:</label><br>
                                    <input class="search-select" type="text" id="lname" name="lname" required>
                                </div>
                                <div class="search-col" style="padding-bottom: 10px;">
                                    <label for="email">Email:</label><br>
                                    <input class="search-select" type="email" id="email" name="email" required>
                                </div>
                                <div class="search-col">
                                    <label for="password">Heslo:</label><br>
                                    <input class="search-select" type="password" id="password" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" onkeyup="validatePassword()" required>
                                </div>
                                <div class="search-col">
                                    <label for="passwordConfirm">Potvrďte heslo:</label><br>
                                    <input class="search-select" type="password" id="passwordConfirm" name="passwordConfirm" onkeyup="validatePassword()" required>
                                </div><br>
                                <div class="search-col">
                                    <button id="submit" type="submit" class="buttonSearch"><a>Registrovať</a></button>
                                    <button type="button" class="buttonSwap" onmouseover="showPassword()" onmouseout="hidePassword()"><ion-icon id="passIcon" name="eye-outline"></ion-icon></button>
                                </div><br><br>
                                <div class="search-col" style="height: 40px;">
                                    <button type="button" class="buttonRegister" onclick="register()"><a>Prihlásenie</a></button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </header>
            <footer id="footer">
                <p>Sample text</p>
            </footer>
        </div>
        <script>
            function register(){
                if (document.getElementById("login").classList[3] === 'hidden'){
                    document.getElementById("register").classList.add("hidden");
                    document.getElementById("login").classList.remove("hidden");
                }
                else {
                    document.getElementById("register").classList.remove("hidden");
                    document.getElementById("login").classList.add("hidden");
                }
            }
        </script>
        <script>
            function validatePassword() {
                var password = document.getElementById("password");
                var passwordConfirm = document.getElementById("passwordConfirm");
                if (password.value == passwordConfirm.value) {
                    passwordConfirm.setCustomValidity('');
                } else {
                    passwordConfirm.setCustomValidity("Heslá sa nezhodujú");
                }
            }
        </script>
        <script>
            function showPassword(){
                document.getElementById("lPassword").type = 'text';
                document.getElementById("password").type = 'text';
                document.getElementById("passwordConfirm").type = 'text';
                document.getElementById("passIcon").setAttribute("name","eye-off-outline");
            }
            function hidePassword(){
                document.getElementById("lPassword").type = 'password';
                document.getElementById("password").type = 'password';
                document.getElementById("passwordConfirm").type = 'password';
                document.getElementById("passIcon").setAttribute("name","eye-outline");
            }
        </script>
    </body>
</html>