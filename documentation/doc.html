<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0070)https://www.fit.vutbr.cz/study/courses/IIS/private/projekt/doc.html.cs -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
    
    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
    </style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu 
     podle pou¾itého editoru -->

<h1>3. Hromadná doprava: zadávání, vyhledávání spojù a rezervaci jízdenek</h1> <!-- Nahradte názvem svého zadání -->

<dl>
	<dt>Autoøi</dt>
	<dd>Tomá¹ Za»ko <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xzatko02@stud.fit.vutbr.cz">xzatko02@stud.fit.vutbr.cz</a> -
		vytvorenie/správa databázi (MySQL), backend (Python-Flask), dokumentácia - 35%
	</dd>
	<dd>Martin Rakús <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xrakus04@stud.fit.vutbr.cz">xrakus04@stud.fit.vutbr.cz</a> - 
		zabezpeèenie a spojazdnenie aplikácie na serveri, frontend (HTML, CSS, jQuery, JavaScript) - 35%
	</dd>
  <dd>Milan Koval <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xkoval18@stud.fit.vutbr.cz">xkoval18@stud.fit.vutbr.cz</a> - 
		pomoc pri návrhu databázi - 30%
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="http://167.172.167.233/">http://167.172.167.233/</a></dd>
</dl>

<h2>U¾ivatelé systému pro testování</h2>
<table>
<tbody><tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
<tr><td>admin@admin.com</td><td>password</td><td>Administrátor</td></tr>
<tr><td>flixmotors@flixbus.com</td><td>flexiBuZzes4596</td><td>Dopravca</td></tr>
<tr><td>slunskavanesa1@seznam.cz</td><td>van95Sluun</td><td>Personál</td></tr>
<tr><td>zlotir.vanda95@seznam.cz</td><td>aJzvsm04</td><td>Personál</td></tr>
<tr><td>tomas.zatko.ms@gmail.com</td><td>Password1</td><td>Cestujúci</td></tr>
</tbody></table>

<h2>Implementace</h2>
<h3>Backend</h3>
<p> Ako implementaèný jazyk sme si vybrali Python3. Po výbere daného jazyka sa nám zdal ako vhodný framework pre programovanie webových slu¾ieb framework Flask. Pre pripojenie a na dotazy s databázou sme pou¾ili PyMySQL. V súbore app.py (na serveri treba premenova» na __init.py__) sa vykonáva logika aplikácie a podµa vyvolávaných funkcií z frontendu vyberá HTML template, ktorý sa bude renderova».
<li>app.py - logika aplikácie, pripojenie a dotazy na databázu</li>
</p>
<h3>Frontend</h3>
<p> Templates sú napísané pomocou CSS a HTML, ktoré obsahujú miesta, kde sa generujú prvky a informácie dynamicky pomocou jQuery a JavaScript.
</p>
<h3>Databáza</h3>
<p> Ako relaènú databázu sme si vybrali MariaDB, ktorá je hostovaná na na¹om súkromnom serveri, ktorý sme zabezpeèili proti neoèakávanému pádu odoslaním informaèného emailu, aby sme vedeli vèas zareagova».
<li>database.sql - skript pre inicializáciu databázi a naplnenie dátami</li>
</p>

<h3>Databáze</h3>

<image src="https://raw.githubusercontent.com/Eltody/VUT_FIT_IIS_proj1/main/documentation/ER.png"></image>

<h2>Instalace</h2>
<ul>
<li>skopírovanie v¹etkých súborov na server, in¹talácia Apache2.</li>
<li>verzia pythonu: python 3.8</li>
<li>databáza: in¹talácia MariaDB na serveri</li>
<li>verzia MariaDB: MariaDB 10.3.31</li>
<li>inicializácia databázi: pou¾itý bol MySQL Workbench 8.0 CE, kde bol inicializovaný skript database.sql</li>
<li>import modulov/kni¾níc: flask, render_template, fpdf, qrcode, pymysql, datetime, json</li>
</ul>

<h2>Známé problémy</h2>
<p>-</p>

<h2>Hosting aplikácie</h2>
Z nemo¾nosti hostovania na¹ej aplikácie na ¹kolských serveroch Eva/Merlin, sme sa rozhodli pre hosting portál Digital Ocean. Na danej platforme be¾í aplikácia, ktorá sa pripája na databázu hostovanú na na¹om súkromnom serveri.
<h2>Tipy pre ovládanie aplikácie</h2>
<li>Odporúèané vyhµadanie spojov: Brno-Praha, Plzeò-Praha, Liberec-Hradec Králové-Pardubice, Ostrava-Olomouc.</li>
<li>V prípadoch zobrazenie okna o potvrdení zmien je nutné znova naèíta» stránku, aby sa vytvorené údaje zobrazili v po¾adovaných poliach pre výber tejto polo¾ky.</li>
<li>Dopravcovia pri vkladaní èísiel spojov pre nový personál si doká¾u vyhµada» dané spoje na hlavnej stránke - bez mo¾nosti kúpi» lístok, aby si nemuseli pamäta» èísla spojov.</li>
<li>Zobrazenie informácie o danom vozidle je mo¾né po vyhµadaní spoju pomocou kliknutia na vrchnú li¹tu daného spoju.</li>
<li>Implementované boli aj funkcie ako: informaèný email po troch nesprávne zadaných heslách, po nakúpe jízdenky je jízdenka odoslaná aj na email, po registrácii príde informaèný email o registrácii, po registrácii personálu dopravcom príde personálu informaèný email o prístupových údajoch a ako posledná funkcia zabudnutého hesla, kedy je na daný email odoslané vygenerované, nové heslo.</li>

<br><br>
</body></html>